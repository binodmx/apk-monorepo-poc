task releaseComponent1 {
    dependsOn gradle.includedBuild('component-1').task(':release')
}

task releaseComponent2 {
    dependsOn gradle.includedBuild('component-2').task(':release')
}

task releaseComponent3 {
    dependsOn gradle.includedBuild('component-3').task(':release')
}

task releaseComponent4 {
    dependsOn gradle.includedBuild('component-4').task(':release')
}

task releaseComponent5 {
    dependsOn gradle.includedBuild('component-5').task(':release')
}

releaseComponent2.configure {
    mustRunAfter releaseComponent1
}

releaseComponent3.configure {
    mustRunAfter releaseComponent2
}

releaseComponent4.configure {
    mustRunAfter releaseComponent3
}

releaseComponent5.configure {
    mustRunAfter releaseComponent4
}

task releaseAll {
    dependsOn 'releaseComponent1'
    dependsOn 'releaseComponent2'
    dependsOn 'releaseComponent3'
    dependsOn 'releaseComponent4'
    dependsOn 'releaseComponent5'
}
//https://stackoverflow.com/questions/32907275/gradle-custom-task-which-runs-multiple-tasks
